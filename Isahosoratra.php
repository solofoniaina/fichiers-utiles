<?phpclass Isahosoratra{//NE GERE PAS TOUT (les pluriels...)#Variablespublic $leChiffreSaisi;public $enLettre='';public $chiffre=array(1=>"iraika",2=>"roa",3=>"telo",4=>"efatra",5=>"dimy",6=>"enina",7=>"fito",8=>"valo",9=>"sivy",10=>"folo",11=>"onze",12=>"douze",13=>"treize",14=>"quatorze",15=>"quinze",16=>"seize",17=>"dix-sept",18=>"dix-huit",19=>"dix-neuf",20=>"roapolo",30=>"telopolo",40=>"efapolo",50=>"dimampolo",60=>"enimpolo",70=>"fitopolo",80=>"valopolo",90=>"sivifolo",100=>"zato", 200=>"roanjato",300=>"telonjato",400=>"efajato",500=>"dimanjato",600=>"eninjato",700=>"fitonjato",800=>"valonjato",900=>"sivinjato");#Fonction de conversion appelée dans la feuille principalefunction Avadika($isa){	$this->enLettre='';	$isa=trim($isa);	#suppression des espaces qui pourraient exister dans la saisie	$nombre='';	$laSisa=explode(' ',$isa);	foreach ($laSisa as $partie)	$nombre.=$partie;		#suppression des zéros qui précéderaient la saisie	$nb=strlen($nombre);	for ($i=0;$i<=$nb;)	{	if(substr($nombre,$i,1)==0)	{	$nombre=substr($nombre,$i+1);	$nb=$nb-1;	}	elseif(substr($nombre,$i,1)<>0)	{	$nombre=substr($nombre,$i);	break;	}	}	#echo $nombre;	#$this->SupZero($nombre);	#le nombre de caract que comporte le nombre saisi de sa forme sans espace et sans 0 au début	$nb=strlen($nombre);	#echo $nb.'<br/ >';	#$this->leChiffreSaisi=$nombre;	#conversion du chiffre saisi en lettre selon les cas	switch ($nb)	{	case 0:	$this->enLettre='aotra';	case 1:	if ($nombre==0)	{	$this->enLettre='aotra';	break;	}	elseif($nombre<>0)	{	$this->Unite($nombre);	break;	}	#01	case 2:	$unite=substr($nombre,1);	$dizaine=substr($nombre,0,1);	$this->Dizaine(0,$nombre,$unite,$dizaine);	break;	#012	case 3:	$unite=substr($nombre,2);	$dizaine=substr($nombre,1,1);	$centaine=substr($nombre,0,1);	$this->Centaine(0,$nombre,$unite,$dizaine,$centaine);	break;	#0123	case 4:	$unite=substr($nombre,3);	$dizaine=substr($nombre,2,1);	$centaine=substr($nombre,1,1);	$rivo = substr($nombre,0,1);	$this->Arivo($nombre,$unite,$dizaine,$centaine,$rivo);	break;	#01234	case 5:	$unite=substr($nombre,4);	$dizaine=substr($nombre,3,1);	$centaine=substr($nombre,2,1);	$rivo = substr($nombre,1,1);	$nalina = substr($nombre,0,1);	$this->Alina($nombre,$unite,$dizaine,$centaine,$rivo,$nalina);	break;	#012345	case 6:	$unite=substr($nombre,5);	$dizaine=substr($nombre,4,1);	$centaine=substr($nombre,3,1);	$rivo = substr($nombre,2,1);	$nalina = substr($nombre,1,1);	$netsy = substr($nombre,0,1);	$this->Hetsy($nombre,$unite,$dizaine,$centaine,$rivo,$nalina,$netsy);	break;	#cas des millions	case ($nb>6 and $nb<=9):	$unite=substr($nombre,$nb-1);	$dizaine=substr($nombre,($nb-2),1);	$centaine=substr($nombre,($nb-3),1);	$mille=substr($nombre,-6);	$million=substr($nombre,0,$nb-6);	$this->Million($nombre,$unite,$dizaine,$centaine,$mille,$million);	break;	#cas des milliards	/*case ($nb>9 and $nb<=12):	$unite=substr($nombre,$nb-1);	$dizaine=substr($nombre,($nb-2),1);	$centaine=substr($nombre,($nb-3),1);	$mille=substr($nombre,-6);	$million=substr($nombre,-9);	$milliard=substr($nombre,0,$nb-9);	Milliard($nombre,$unite,$dizaine,$centaine,$mille,$million,$milliard);	break;*/	}	if (!empty($this->enLettre))		return $this->enLettre;}#Gestion des miiliards/*function Milliard($nombre,$unite,$dizaine,$centaine,$mille,$million,$milliard){}*/#Gestion des millionsfunction Million($nombre,$unite,$dizaine,$centaine,$mille,$million){#si les mille comportent un seul chiffre#$cent represente les 3 premiers chiffres du chiffre ex: 321 dans 12502321#$mille represente les 3 chiffres qui suivent les cents ex: 502 dans 12502321#reste represente les 6 premiers chiffres du chiffre ex: 502321 dans 12502321$cent=substr($nombre,-3);$reste=substr($nombre,-6);#recuperation des cents dans nombre#suppression des zéros qui précéderaient le $reste$nb=strlen($reste);for ($i=0;$i<=$nb;){if(substr($reste,$i,1)==0){$reste=substr($reste,$i+1);$nb=$nb-1;}elseif(substr($reste,$i,1)<>0){$reste=substr($reste,$i);break;}}$nb=strlen($reste);#si tous les chiffres apres les milions =000000 on affiche x millionif ($nb==0){	if (strlen($million)==1)	{		if ($million == 1){			$this->enLettre.=" iray ";		}		else		{			$this->enLettre.=$this->chiffre[$million];			$this->enLettre.=' tapitrisa ';		}	}	elseif (strlen($million)==2)	{	$unite=substr($million,1);	$dizaine=substr($million,0,1);	//echo $nombre;	$this->Dizaine(0,$million,$unite,$dizaine);	$this->enLettre.='tapitrisa ';	}	elseif (strlen($million)==3)	{	$unite=substr($million,2);	$dizaine=substr($million,1,1);	$centaine=substr($million,0,1);	$this->Centaine(0,$million,$unite,$dizaine,$centaine);	$this->enLettre.='tapitrisa ';	}}else{	#Gestion des milles	#suppression des zéros qui précéderaient les milles dans $mille	$nb=strlen($mille);	for ($i=0;$i<=$nb;)	{		if(substr($mille,$i,1)==0)		{			$mille=substr($mille,$i+1);			$nb=$nb-1;		}		elseif(substr($mille,$i,1)<>0)		{			$mille=substr($mille,$i);			break;		}	}	#le nombre de caract que comporte le nombre saisi de sa forme sans espace et sans 0 au début	$nb=strlen($mille);	#echo '<br />nb='.$nb.'<br />';	if ($nb==0)	{		#suppression des zéros qui précéderaient la saisie		$nbr=strlen($cent);		for ($i=0;$i<=$nbr;)		{			if(substr($cent,$i,1)==0)			{				$cent=substr($cent,$i+1);				$nbr=$nbr-1;			}			elseif(substr($cent,$i,1)<>0)			{				$cent=substr($cent,$i);				break;			}		}		$nbr = strlen($cent);		if ($nbr == 0) {			//Tsy miaffiche (tsy possible mandalo ato)		}		elseif($nbr==1)		{			$this->enLettre.=$this->chiffre[$cent];			$this->enLettre.=' sy ';			/************/			if (strlen($million)==1)			{				if ($million == 1){					$this->enLettre.=" iray ";				}				else				{					$this->enLettre.=$this->chiffre[$million];					$this->enLettre.=' tapitrisa ';				}			}			elseif (strlen($million)==2)			{			$unite=substr($million,1);			$dizaine=substr($million,0,1);			//echo $nombre;			$this->Dizaine(0,$million,$unite,$dizaine);			$this->enLettre.='tapitrisa ';			}			elseif (strlen($million)==3)			{			$unite=substr($million,2);			$dizaine=substr($million,1,1);			$centaine=substr($million,0,1);			$this->Centaine(0,$million,$unite,$dizaine,$centaine);			$this->enLettre.='tapitrisa ';			}			/************/		}		elseif($nbr==2)		{			//dizaine;			$unite=substr($cent,1);			$dizaine=substr($cent,0,1);			$this->Dizaine(0,$cent,$unite,$dizaine);			$this->enLettre.=' sy ';			/************/			if (strlen($million)==1)			{				if ($million == 1){					$this->enLettre.=" iray ";				}				else				{					$this->enLettre.=$this->chiffre[$million];					$this->enLettre.=' tapitrisa ';				}			}			elseif (strlen($million)==2)			{			$unite=substr($million,1);			$dizaine=substr($million,0,1);			//echo $nombre;			$this->Dizaine(0,$million,$unite,$dizaine);			$this->enLettre.='tapitrisa ';			}			elseif (strlen($million)==3)			{			$unite=substr($million,2);			$dizaine=substr($million,1,1);			$centaine=substr($million,0,1);			$this->Centaine(0,$million,$unite,$dizaine,$centaine);			$this->enLettre.='tapitrisa ';			}			/****************/		}		elseif($nbr==3)		{			$unite=substr($cent,2);			$dizaine=substr($cent,1,1);			$centaine=substr($cent,0,1);			$this->Centaine(0,$cent,$unite,$dizaine,$centaine);			$this->enLettre.=' sy ';			/************/			if (strlen($million)==1)			{				if ($million == 1){					$this->enLettre.=" iray ";				}				else				{					$this->enLettre.=$this->chiffre[$million];					$this->enLettre.=' tapitrisa ';				}			}			elseif (strlen($million)==2)			{			$unite=substr($million,1);			$dizaine=substr($million,0,1);			//echo $nombre;			$this->Dizaine(0,$million,$unite,$dizaine);			$this->enLettre.='tapitrisa ';			}			elseif (strlen($million)==3)			{			$unite=substr($million,2);			$dizaine=substr($million,1,1);			$centaine=substr($million,0,1);			$this->Centaine(0,$million,$unite,$dizaine,$centaine);			$this->enLettre.='tapitrisa ';			}			/************/		}	}	/*GESTION 100*/	#AffichageResultat($enLettre);	elseif ($nb==1)	{		//0123;		$unite=substr($reste,3);		$dizaine=substr($reste,2,1);		$centaine=substr($reste,1,1);		$rivo=substr($reste,0,1);		$this->Arivo($reste,$unite,$dizaine,$centaine,$rivo);		$this->enLettre.=' sy ';		/************/			if (strlen($million)==1)			{				if ($million == 1){					$this->enLettre.=" iray ";				}				else				{					$this->enLettre.=$this->chiffre[$million];					$this->enLettre.=' tapitrisa ';				}			}			elseif (strlen($million)==2)			{			$unite=substr($million,1);			$dizaine=substr($million,0,1);			//echo $nombre;			$this->Dizaine(0,$million,$unite,$dizaine);			$this->enLettre.='tapitrisa ';			}			elseif (strlen($million)==3)			{			$unite=substr($million,2);			$dizaine=substr($million,1,1);			$centaine=substr($million,0,1);			$this->Centaine(0,$million,$unite,$dizaine,$centaine);			$this->enLettre.='tapitrisa ';			}			/************/	}	elseif ($nb==2)	{		$unite=substr($reste,4);		$dizaine=substr($reste,3,1);		$centaine=substr($reste,2,1);		$rivo=substr($reste,1,1);		$nalina=substr($reste,0,1);		$this->Alina($reste,$unite,$dizaine,$centaine,$rivo,$nalina);		$this->enLettre.=' sy ';		/************/			if (strlen($million)==1)			{				if ($million == 1){					$this->enLettre.=" iray ";				}				else				{					$this->enLettre.=$this->chiffre[$million];					$this->enLettre.=' tapitrisa ';				}			}			elseif (strlen($million)==2)			{			$unite=substr($million,1);			$dizaine=substr($million,0,1);			//echo $nombre;			$this->Dizaine(0,$million,$unite,$dizaine);			$this->enLettre.='tapitrisa ';			}			elseif (strlen($million)==3)			{			$unite=substr($million,2);			$dizaine=substr($million,1,1);			$centaine=substr($million,0,1);			$this->Centaine(0,$million,$unite,$dizaine,$centaine);			$this->enLettre.='tapitrisa ';			}			/************/	}	elseif ($nb==3)	{		$unite=substr($reste,5);		$dizaine=substr($reste,4,1);		$centaine=substr($reste,3,1);		$rivo=substr($reste,2,1);		$nalina=substr($reste,1,1);		$netsy=substr($reste,0,1);		$this->Hetsy($reste,$unite,$dizaine,$centaine,$rivo,$netsy);		$this->enLettre.=' sy ';		/************/			if (strlen($million)==1)			{				if ($million == 1){					$this->enLettre.=" iray ";				}				else				{					$this->enLettre.=$this->chiffre[$million];					$this->enLettre.=' tapitrisa ';				}			}			elseif (strlen($million)==2)			{			$unite=substr($million,1);			$dizaine=substr($million,0,1);			//echo $nombre;			$this->Dizaine(0,$million,$unite,$dizaine);			$this->enLettre.='tapitrisa ';			}			elseif (strlen($million)==3)			{			$unite=substr($million,2);			$dizaine=substr($million,1,1);			$centaine=substr($million,0,1);			$this->Centaine(0,$million,$unite,$dizaine,$centaine);			$this->enLettre.='tapitrisa ';			}			/************/	}}}#Gestion des millesfunction Hetsy($nombre,$unite,$dizaine,$centaine,$mille,$alina,$netsy){	#si les mille comportent un seul chiffre	#$cent represente les 3 premiers chiffres du chiffre ex: 321 dans 12321	$cent=substr($nombre,-3);	//$this->enLettre.='arivo ';	#recuperation des cens dans nombre	#suppression des zéros qui précéderaient la saisie	$nb=strlen($cent);	for ($i=0;$i<=$nb;)	{	if(substr($cent,$i,1)==0)	{	$cent=substr($cent,$i+1);	$nb=$nb-1;	}	elseif(substr($cent,$i,1)<>0)	{	$cent=substr($cent,$i);	break;	}	}	#le nombre de caract que comporte le nombre saisi de sa forme sans espace et sans 0 au début	$nb=strlen($cent);	#echo '<br />nb='.$nb.'<br />';	if ($nb==0)	{		if ($mille > 0) {		$this->enLettre.=$this->chiffre[$mille];		$this->enLettre.=' arivo sy ';	}	if ($alina > 0) {		$this->Gestion_iray_iraika($alina,1);		$this->enLettre.=' alina sy ';	}	$this->Gestion_iray_iraika($netsy,1);	$this->enLettre.=' hetsy ';//AffichageResultat($enLettre);	}	elseif ($nb==1)	{		$this->Unite($cent);		$this->enLettre.=' sy ';		if ($mille > 0) {		$this->Gestion_iray_iraika($mille);//$this->enLettre.=$this->chiffre[$mille];		$this->enLettre.=' arivo sy ';		}		if ($alina > 0) {			$this->Gestion_iray_iraika($alina,1);			$this->enLettre.=' alina sy ';		}		$this->Gestion_iray_iraika($netsy,1);		$this->enLettre.=' hetsy ';	}	elseif ($nb==2)	{		$this->Dizaine(0,$cent,$unite,$dizaine);		$this->enLettre.=' sy ';		if ($mille > 0) {		$this->Gestion_iray_iraika($mille);//$this->enLettre.=$this->chiffre[$mille];		$this->enLettre.=' arivo sy ';		}		if ($alina > 0) {			$this->Gestion_iray_iraika($alina,1);			$this->enLettre.=' alina sy ';		}		$this->Gestion_iray_iraika($netsy,1);		$this->enLettre.=' hetsy ';	}	elseif ($nb==3)	{		$this->Centaine(0,$cent,$unite,$dizaine,$centaine);		$this->enLettre.=' sy ';		if ($mille > 0) {			$this->Gestion_iray_iraika($mille);//$this->enLettre.=$this->chiffre[$mille];			$this->enLettre.=' arivo sy ';		}		if ($alina > 0) {			$this->Gestion_iray_iraika($alina,1);			$this->enLettre.=' alina sy ';		}		$this->Gestion_iray_iraika($netsy,1);		$this->enLettre.=' hetsy ';	}}function Alina($nombre,$unite,$dizaine,$centaine,$mille,$alina){	#si les mille comportent un seul chiffre	#$cent represente les 3 premiers chiffres du chiffre ex: 321 dans 12321	$cent=substr($nombre,-3);	//$this->enLettre.='arivo ';	#recuperation des cens dans nombre	#suppression des zéros qui précéderaient la saisie	$nb=strlen($cent);	for ($i=0;$i<=$nb;)	{	if(substr($cent,$i,1)==0)	{	$cent=substr($cent,$i+1);	$nb=$nb-1;	}	elseif(substr($cent,$i,1)<>0)	{	$cent=substr($cent,$i);	break;	}	}	#le nombre de caract que comporte le nombre saisi de sa forme sans espace et sans 0 au début	$nb=strlen($cent);	#echo '<br />nb='.$nb.'<br />';	if ($nb==0)	{		if ($mille > 0) {			$this->Gestion_iray_iraika($mille);			$this->enLettre.= ' arivo sy ';		}				$this->Gestion_iray_iraika($alina,1);		$this->enLettre.=' alina ';//AffichageResultat($enLettre);	}	elseif ($nb==1)	{		$this->Unite($cent);		$this->enLettre.=' sy ';		if ($mille > 0) {			$this->Gestion_iray_iraika($mille);			$this->enLettre.= ' arivo sy ';		}		$this->Gestion_iray_iraika($alina,1);		$this->enLettre.=' alina ';	}	elseif ($nb==2)	{		$this->Dizaine(0,$cent,$unite,$dizaine);		$this->enLettre.=' sy ';		if ($mille > 0) {			$this->Gestion_iray_iraika($mille);			$this->enLettre.= ' arivo sy ';		}				$this->Gestion_iray_iraika($alina,1);		$this->enLettre.=' alina ';	}	elseif ($nb==3)	{		$this->Centaine(0,$cent,$unite,$dizaine,$centaine);		$this->enLettre.=' sy ';		if ($mille > 0) {			$this->Gestion_iray_iraika($mille);			$this->enLettre.= ' arivo sy ';		}				$this->Gestion_iray_iraika($alina,1);		$this->enLettre.=' alina ';	}	elseif ($nb==4)	{		$this->Arivo(0,$cent,$unite,$dizaine,$centaine,$mille);		$this->enLettre.=' sy ';		if ($mille > 0) {			$this->Gestion_iray_iraika($mille);			$this->enLettre.= ' arivo sy ';		}				$this->Gestion_iray_iraika($alina,1);		$this->enLettre.=' alina ';	}}#Gestion des millesfunction Arivo($nombre,$unite,$dizaine,$centaine,$mille){	#si les mille comportent un seul chiffre	#$cent represente les 3 premiers chiffres du chiffre ex: 321 dans 12321	$cent=substr($nombre,-3);		//$this->enLettre.='arivo ';	#recuperation des cens dans nombre	#suppression des zéros qui précéderaient la saisie	$nb=strlen($cent);	for ($i=0;$i<=$nb;)	{	if(substr($cent,$i,1)==0)	{	$cent=substr($cent,$i+1);	$nb=$nb-1;	}	elseif(substr($cent,$i,1)<>0)	{	$cent=substr($cent,$i);	break;	}	}	#le nombre de caract que comporte le nombre saisi de sa forme sans espace et sans 0 au début	$nb=strlen($cent);	#echo '<br />nb='.$nb.'<br />';	if ($nb==0)	{	//AffichageResultat($enLettre);		if ($mille==1)		$this->enLettre.='arivo';		#si ce chiffre<>1		elseif($mille<>1)		{			$this->enLettre.=$this->chiffre[$mille];			$this->enLettre.=' arivo';		}	}	elseif ($nb==1)	{		$this->Unite($cent);		$this->enLettre.=' sy ';		#si ce chiffre=1		if ($mille==1)		$this->enLettre.='';		#si ce chiffre<>1		elseif($mille<>1)		$this->enLettre.=$this->chiffre[$mille];		$this->enLettre.=' arivo';	}	elseif ($nb==2)	{		$this->Dizaine(0,$cent,$unite,$dizaine);		$this->enLettre.=' sy ';		#si ce chiffre=1		if ($mille==1)		$this->enLettre.='';		#si ce chiffre<>1		elseif($mille<>1)		$this->enLettre.=$this->chiffre[$mille];		$this->enLettre.=' arivo';	}		elseif ($nb==3)	{		$this->Centaine(0,$cent,$unite,$dizaine,$centaine);		$this->enLettre.=' sy ';		#si ce chiffre=1		if ($mille==1)		$this->enLettre.='';		#si ce chiffre<>1		elseif($mille<>1)		$this->enLettre.=$this->chiffre[$mille];		$this->enLettre.=' arivo';	}	}#Gestion des centainesfunction Centaine($inmillier,$nombre,$unite,$dizaine,$centaine){	$unite=substr($nombre,2);	$dizaine=substr($nombre,1,1);	$centaine=substr($nombre,0,1);	#comme 700	if ($unite==0 and $dizaine==0)	{		$this->enLettre.=$this->chiffre[$nombre];	}	#comme 705	elseif ($unite<>0 and $dizaine==0)	{		if ($centaine==1)		$this->enLettre.=($this->chiffre[$unite].' amby zato').' ';		elseif ($centaine<>1)		$this->enLettre.=($this->chiffre[$unite].' sy '.$this->chiffre[$centaine]).' ';	}	//comme 750	elseif ($unite==0 and $dizaine<>0)	{		#recupération des dizaines		$nombre=substr($nombre,1);		//echo '<br />nombre='.$nombre.'<br />';		if ($centaine==1)		{			$this->Dizaine(0,$nombre,$unite,$dizaine).' ';			$this->enLettre.=' amby zato ';		}		elseif ($centaine<>1)		{			$this->Dizaine(0,$nombre,$unite,$dizaine).' ';			$centaine.= '00';			$this->enLettre.=' sy '.$this->chiffre[$centaine];		}	}	#comme 695	elseif ($unite<>0 and $dizaine<>0)	{		$nombre=substr($nombre,1);		if ($centaine==1)		{			$this->Dizaine(0,$nombre,$unite,$dizaine).' ';			$this->enLettre.=' amby zato';		}		elseif ($centaine<>1)		{			$this->Dizaine(0,$nombre,$unite,$dizaine).' ';			$centaine.= '00';			$this->enLettre.=(' sy '.$this->chiffre[$centaine]);		}	}}#Gestion des dizainesfunction Dizaine($inmillier,$nombre,$unite,$dizaine){	$unite=substr($nombre,1);	$dizaine=substr($nombre,0,1);	#comme 70	if ($unite==0)	{		$val=$dizaine.'0';		$this->enLettre.=$this->chiffre[$val];				/** if ($inmillier == 0 && $val == 80){				$this->enLettre.='s ';			}*/			$this->enLettre.=' ';	}	#comme 71	elseif ($unite<>0)	{		$val=$dizaine.'0';		#gestion (ambin'ny / amby)		if ($dizaine==1)		{			$this->enLettre.=($this->chiffre[$unite].' ambin\'ny '.$this->chiffre[$val]).' ';		}		else		{			$this->enLettre.=($this->chiffre[$unite].' amby '.$this->chiffre[$val]).' ';		}	}	}#Gestion des unitésfunction Unite($unite){$this->enLettre.=($this->chiffre[$unite]).' ';}function Gestion_iray_iraika($valeur,$type=0){	if ($valeur == 1) 	{		if ($type == 0) 		{						$this->enLettre.="";		}		else		{			$this->enLettre.=" iray ";		}	}	else	{		$this->enLettre.=$this->chiffre[$valeur];	}}}?>